<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karu AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="karu-icon">‚¨ú</div>
                <h1>Karu</h1>
            </div>
            
            <button class="new-chat-btn" onclick="startNewChat()">
                ‚ûï New chat
            </button>
            
            <div class="sidebar-nav">
                <div class="nav-item active" onclick="switchToChat()">
                    üí¨ Chats
                </div>
                <div class="nav-item" onclick="switchToProjects()">
                    üìÅ Projects
                </div>
            </div>
            
            <div class="section-header">Recents</div>
            <div class="chat-history" id="chatHistory">
                <!-- Chat history populated by JS -->
            </div>
            
            <div class="sidebar-footer">
                <div class="user-profile" onclick="toggleSettings()">
                    <div class="user-avatar">K</div>
                    <div class="user-info">
                        <div class="user-name">User</div>
                        <div class="user-plan">Karu AI</div>
                    </div>
                    <div class="dropdown-arrow">‚åÑ</div>
                    
                    <div class="settings-dropdown" id="settingsDropdown">
                        <div class="dropdown-item" onclick="openSettings()">
                            ‚öôÔ∏è Settings
                        </div>
                        <div class="dropdown-item" onclick="showAbout()">
                            ‚ùì About Karu
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <button class="sidebar-toggle" onclick="toggleSidebar()">‚ò∞</button>
            
            <div class="chat-area" id="chatArea">
                <div class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-icon">‚ú®</div>
                    <h2 class="welcome-title">Ready to code with Karu?</h2>
                    
                    <div class="input-section">
                        <div class="model-selector">
                            Karu Sonnet 4 ‚åÑ
                        </div>
                        
                        <div class="input-container">
                            <button class="action-btn">üìé</button>
                            <textarea id="messageInput" placeholder="How can I help you code today?" rows="1"></textarea>
                            <button class="send-btn action-btn" onclick="sendMessage()">‚Üó</button>
                        </div>
                        
                        <div class="suggestions">
                            <button class="suggestion-btn" onclick="sendSuggestion('Write a Python function')">‚úèÔ∏è Write Python</button>
                            <button class="suggestion-btn" onclick="sendSuggestion('Debug this JavaScript code')">üêõ Debug JS</button>
                            <button class="suggestion-btn" onclick="sendSuggestion('Create a React component')">‚öõÔ∏è React</button>
                            <button class="suggestion-btn" onclick="sendSuggestion('Design a REST API')">üåê API Design</button>
                        </div>
                    </div>
                </div>
                
                <div class="messages" id="messages">
                    <!-- Chat messages will appear here -->
                </div>
            </div>
            
            <!-- Projects View -->
            <div class="projects-view" id="projectsView" style="display: none;">
                <div class="projects-header">
                    <h1 class="projects-title">Projects</h1>
                    <button class="new-project-btn" onclick="createProject()">
                        ‚ûï New project
                    </button>
                </div>
                
                <div class="projects-controls">
                    <div class="search-container">
                        <input type="text" class="projects-search" placeholder="üîç Search projects..." id="projectsSearch">
                    </div>
                    <div class="sort-container">
                        <span class="sort-label">Sort by</span>
                        <select class="sort-select" id="projectsSort">
                            <option value="activity">Activity</option>
                            <option value="name">Name</option>
                            <option value="created">Created</option>
                            <option value="updated">Updated</option>
                        </select>
                    </div>
                </div>
                
                <div class="projects-grid" id="projectsGrid">
                    <div class="project-card">
                        <div class="project-content">
                            <h3 class="project-name">Claude Clone</h3>
                            <p class="project-description">AI assistant clone with training pipeline and web interface</p>
                            <div class="project-updated">Updated 17 hours ago</div>
                        </div>
                    </div>
                    
                    <div class="project-card">
                        <div class="project-content">
                            <h3 class="project-name">Desktop Assistant</h3>
                            <p class="project-description">Local AI assistant with file management capabilities</p>
                            <div class="project-updated">Updated 2 days ago</div>
                        </div>
                    </div>
                    
                    <div class="project-card">
                        <div class="project-content">
                            <h3 class="project-name">Contractor Master</h3>
                            <p class="project-description">Project management system for contractors</p>
                            <div class="project-updated">Updated 2 days ago</div>
                        </div>
                    </div>
                    
                    <div class="project-card">
                        <div class="project-content">
                            <h3 class="project-name">How to use Claude</h3>
                            <p class="project-description">An example project that also doubles as a how-to guide for using Claude. Chat with it to learn more about how to get the most out of chatting with Claude!</p>
                            <div class="project-updated">Updated 4 days ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div class="modal-overlay" id="createProjectModal" style="display: none;">
        <div class="create-project-modal">
            <h2 class="modal-title">Create a personal project</h2>
            
            <form class="project-form" id="projectForm">
                <div class="form-group">
                    <label class="form-label">What are you working on?</label>
                    <input type="text" class="form-input" id="projectNameInput" placeholder="Name your project" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">What are you trying to achieve?</label>
                    <textarea class="form-textarea" id="projectDescriptionInput" placeholder="Describe your project, goals, subject, etc..." rows="4"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="cancelCreateProject()">Cancel</button>
                    <button type="submit" class="btn-primary">Create project</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-panel">
            <div class="settings-header">
                <h3 class="settings-title">Settings</h3>
                <button class="settings-close" onclick="closeSettings()">√ó</button>
            </div>
            <div class="settings-content">
                <div class="settings-section">
                    <div class="section-title">AI Model</div>
                    <div class="setting-item">
                        <label class="setting-label">Response Style</label>
                        <div class="setting-control">
                            <select class="setting-select" id="responseStyle">
                                <option value="balanced">Balanced</option>
                                <option value="creative">Creative</option>
                                <option value="precise">Precise</option>
                                <option value="helpful">Helpful</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <div class="section-title">Interface</div>
                    <div class="setting-item">
                        <label class="setting-label">Dark Mode</label>
                        <div class="setting-control">
                            <div class="setting-toggle active" id="darkModeToggle" onclick="toggleDarkMode()"></div>
                        </div>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">Code Highlighting</label>
                        <div class="setting-control">
                            <div class="setting-toggle active" id="codeHighlightToggle" onclick="toggleCodeHighlight()"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>